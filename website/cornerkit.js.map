{"version":3,"file":"cornerkit.js","sources":["../src/core/detector.ts","../src/utils/logger.ts","../src/core/registry.ts","../src/core/types.ts","../src/math/figma-squircle.ts","../src/math/path-generator.ts","../src/utils/validator.ts","../src/renderers/clippath.ts","../src/renderers/fallback.ts","../src/utils/data-attributes.ts","../src/index.ts","../src/utils/accessibility.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["RendererTier","LogLevel","CapabilityDetector","constructor","this","cachedSupport","getInstance","instance","supports","native","detectNative","houdini","detectHoudini","clippath","detectClipPath","fallback","detectTier","support","NATIVE","HOUDINI","CLIPPATH","FALLBACK","CSS","ElementRegistry","elements","WeakMap","trackedElements","Set","register","element","config","tier","resizeObserver","intersectionObserver","originalStyles","has","existing","get","cleanup","disconnect","lastDimensions","width","offsetWidth","height","offsetHeight","set","add","managed","delete","update","updateDimensions","getAllElements","Array","from","filter","el","clear","forEach","DEFAULT_CONFIG","radius","smoothing","toRadians","degrees","Math","PI","getPathParamsForCorner","cornerRadius","cornerSmoothing","p","arcMeasure","arcSectionLength","sin","sqrt","angleBeta","c","tan","cos","d","b","a","round","value","validateRadius","defaultRadius","isNaN","isFinite","validateSmoothing","defaultSmoothing","ClipPathRenderer","apply","options","onDimensionUpdate","getConfig","reducedMotion","applyReducedMotion","updateClipPath","observer","createResizeObserver","observe","remove","originalTransition","style","clipPath","undefined","transition","path","clampedRadius","min","clampedSmoothing","max","topLeftParams","topRightParams","bottomRightParams","bottomLeftParams","params","trim","replace","drawTopRightCorner","drawBottomRightCorner","drawBottomLeftCorner","drawTopLeftCorner","generateFigmaSquirclePath","generateSquirclePath","includes","lastWidth","lastHeight","rafId","ResizeObserver","entries","cancelAnimationFrame","requestAnimationFrame","entry","target","newWidth","newHeight","abs","currentConfig","error","wrappedObserver","FallbackRenderer","updateBorderRadius","borderRadius","parseRadius","getAttribute","parsed","parseFloat","Number","parseSmoothing","parseDataAttributes","globalConfig","detector","registry","reducedMotionEnabled","window","matchMedia","matches","reducedMotionWatcher","callback","mediaQuery","listener","event","addEventListener","addListener","removeEventListener","removeListener","watchReducedMotionPreference","updateAllReducedMotion","elementOrSelector","resolveElement","mergedConfig","clipPathRenderer","fallbackRenderer","applyAll","selector","TypeError","document","querySelectorAll","length","HTMLElement","DOMException","name","auto","autoObserver","offScreenElements","rect","getBoundingClientRect","top","left","bottom","innerHeight","documentElement","clientHeight","right","innerWidth","clientWidth","push","IntersectionObserver","isIntersecting","unobserve","rootMargin","Error","validatedConfig","Object","keys","updatedManaged","updateElementStyling","removeElementStyling","destroy","inspect","dimensions","restored","split","map","s","startsWith","join","querySelector","hasAttribute"],"mappings":"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"}